
	.word $033c
	*=$033c

IRQV	=$90

	sei
	lda IRQV
	sta oldvec
	lda IRQV+1
	sta oldvec+1
	lda #<newvec
	sta IRQV
	lda #>newvec
	sta IRQV+1
	cli

	; enable memory mapped registers
	lda #39
	sta $e880
	lda $e881
	ora #64
	sta $e881

	rts

newvec	lda $e8d9
	beq rv
	sta $8000
	inc $e8a9	; border color
rv	jmp (oldvec)


oldvec	.word 0
